//----------------------------------------------------------------------------------------------------------------------
// Basic shader
//----------------------------------------------------------------------------------------------------------------------
// Pixel
uniform vec3 uLightDir; // In object space
uniform vec3 uLightClr;

varying vec3 vNormal; // In object space
varying vec3 vViewDir;

void main (void) {
	vec3 normal = normalize(vNormal);
	float diff = max(0.0, dot(uLightDir, normal));
	vec3 halfV = -normalize(uLightDir + vViewDir);
	float spec = max(0.0, dot(halfV, normal));
	vec3 albedo = vec3(0.0,0.0,0.0);
	vec3 metal = 0.7*vec3(1.0,1.0,1.0);
	vec3 color = uLightClr * ((albedo*diff)+(metal*spec));
	gl_FragColor = vec4(color, 1.0);
}